Feedback

Search

Docs

[Online](https://developer.paypal.com/docs/online/) [In-person](https://developer.paypal.com/docs/in-person/) [Multiparty](https://developer.paypal.com/docs/multiparty/) [3rd-party](https://developer.paypal.com/docs/3rd-party/) [Payouts](https://developer.paypal.com/docs/payouts/) [Disputes](https://developer.paypal.com/docs/disputes/) [Reports](https://developer.paypal.com/docs/reports/) [Identity](https://developer.paypal.com/docs/log-in-with-paypal/) [Tracking](https://developer.paypal.com/docs/tracking/) [Docs archive](https://developer.paypal.com/docs/archive/)

APIs & SDKs

[REST APIs](https://developer.paypal.com/api/rest/) [Server SDKs](https://developer.paypal.com/serversdk/) [JavaScript SDK](https://developer.paypal.com/sdk/js/) [Mobile SDKs](https://developer.paypal.com/sdk/mobile/) [NVP/SOAP APIs](https://developer.paypal.com/api/nvp-soap/) [Donate SDK](https://developer.paypal.com/sdk/donate/) [Braintree GraphQL API](https://graphql.braintreepayments.com/)

Tools

[Upgrade hub](https://developer.paypal.com/upgrade/) [Agent toolkit](https://www.paypal.ai/docs/tools/agent-toolkit-quickstart/) [MCP server](https://www.paypal.ai/docs/tools/mcp-quickstart/) [VS Code extension](https://developer.paypal.com/tools/vscode/) [Sandbox testing guide](https://developer.paypal.com/tools/sandbox/) [Negative testing](https://developer.paypal.com/tools/sandbox/negative-testing/) [Credit card generator](https://developer.paypal.com/tools/sandbox/card-testing/#link-testgeneratedcardnumbers) [Demo portal](https://demo.paypal.com/home/) [Webhooks](https://developer.paypal.com/api/rest/webhooks/) [Secure file transfer](https://developer.paypal.com/tools/dropzone/) [API status](https://www.paypal-status.com/api/production/)

Community

[Community home](https://developer.paypal.com/community/home/) [Blog](https://developer.paypal.com/community/blog/) [Events](https://developer.paypal.com/community/events/) [Champions](https://developer.paypal.com/community/champions/) [Videos](https://developer.paypal.com/video/home/) [Developer Program](https://developer.paypal.com/developer-program/) [Referral Program](https://developer.paypal.com/community/referral-program/)

[Support](https://developer.paypal.com/support/)

[PayPal.com](https://www.paypal.com/)

[Log In](https://www.paypal.com/signin?returnUri=https%3A%2F%2Fdeveloper.paypal.com%2Fstudio%2Fcheckout%2Ffastlane%2Fintegrate&intent=developer&ctxId=8cdf0ef6-f19b-452b-ba80-cff0eb29e3c1) [Sign Up](https://www.paypal.com/webapps/mpp/account-selection?intent=developer&country.x=US&locale.x=en_US)

[Checkout](https://developer.paypal.com/docs/checkout)

[PayPal](https://developer.paypal.com/studio/checkout/standard)

[Expanded](https://developer.paypal.com/studio/checkout/advanced)

[Fastlane](https://developer.paypal.com/studio/checkout/fastlane)

[Overview](https://developer.paypal.com/studio/checkout/fastlane)

[Getting Started](https://developer.paypal.com/studio/checkout/fastlane/getstarted)

[Integrate](https://developer.paypal.com/studio/checkout/fastlane/integrate)

[Reference](https://developer.paypal.com/docs/checkout/fastlane/reference/)

[Upgrade](https://developer.paypal.com/docs/checkout/fastlane/upgrade/)

[Foreign Exchange as a Service](https://developer.paypal.com/docs/checkout/fx-as-a-service/)

[Payment Links and Buttons](https://developer.paypal.com/studio/checkout/payment-links-and-buttons)

[Pay Later Offers (US)](https://developer.paypal.com/studio/checkout/pay-later/us)

[Pay With Venmo](https://developer.paypal.com/docs/checkout/pay-with-venmo/)

[Save Payment Methods](https://developer.paypal.com/docs/checkout/save-payment-methods/)

[Alternative Payment Methods](https://developer.paypal.com/docs/checkout/apm/)

[Payment Methods](https://developer.paypal.com/docs/checkout/payment-methods/)

# Integrate Fastlane by PayPal

Before beginning your integration, you need to [set up your development environment](https://developer.paypal.com/studio/checkout/fastlane/getstarted#setup-dev-environment). You can [refer to this flow diagram](https://www.paypalobjects.com/devdoc/SwimlaneDiagram.png), and [watch a video](https://youtu.be/5nf78OuCqjE) demonstrating how to integrate PayPal Fastlane.

Start your integration by grabbing the sample code from PayPal’s GitHub repo, or visiting the PayPal GitHub Codespace. [Read the Codespaces guide](https://developer.paypal.com/api/rest/sandbox/codespaces/) for more information.

![](https://www.paypalobjects.com/dev-studio-space/code-logo.svg)Download sample code

![](https://www.paypalobjects.com/dev-studio-space/git-logo.svg)Open in Codespaces

## 1\. Integrate front end CLIENT

Set up your front end to integrate Fastlane.

### Front-end process

1. Your app shows Fastlane Payment component.
2. Your app calls server endpoints to create the order and capture payment.

### Step 1: Generate client token

To instantiate the JavaScript SDK and the Fastlane components, use a server-side call to generate a client token and then pass the token into the SDK.

1. Replace `CLIENT ID` with your client ID.
2. Replace `CLIENT_SECRET` with your client secret. [Get your client ID and secret](https://developer.paypal.com/api/rest/?_ga=2.150971572.368875705.1720450729-1774217071.1701640500&_gac=1.82635492.1720023622.Cj0KCQjw7ZO0BhDYARIsAFttkCgWb0D7wzz0Xq70uhuDYTv5e8bPDEwnDYKG8Gavy5V6iIaMfCL4y7IaAoW1EALw_wcB#link-getclientidandclientsecret).
3. Replace `example.com`, `example2.com` with your own domains. Provide the root domain name only. No subdomains such as `sub.example.com`. No wildcard characters such as `*.example.com`. No protocols such as `http` or `https`.

### Step 2: Initialize PayPal JS SDK and Fastlane

First, Initialize the SDK through a script tag on your HTML page.

The fields required to initialize the PayPal JS SDK are:

- `client-id`: client-id of your application.
- `data-sdk-client-token`: generated from the token initialization.

Fastlane is initialized with a call to `paypal.Fastlane` in the init-fastlane.js file. You must pass a configuration object during initialization.

**Specify locale**

You can specify the language in which the Fastlane components are rendered. After you initialize the Fastlane component, you can set the locale.

Fastlane supports the following languages; `en_us` (English, default), `es_us` (Spanish), `fr_us` (French), and `zh_us` (Mandarin).

Geo Location OverrideUnited StatesUnited KingdomOtherUnited StatesGeo Location Override

### Step 3: Capture user email address

You’ll need to render your own email field to capture the payer’s email address.

Because the email address will be shared with PayPal, it is crucial to inform the payer. We recommend to display the Fastlane watermark below the email field.

**Privacy**

PayPal is a data controller and business under the California Consumer Privacy Act. You'll be sharing consumer's email addresses with PayPal. We recommend you make PayPal known to your consumers by leveraging our SDK to render the "Powered by Fastlane" logo and information tooltip. If you have any questions about this feature or your compliance with data protection laws, consult your legal advisors.

After collecting the email address, PayPal determines whether the email is associated with a Fastlane profile or if it belongs to a PayPal member. Use the following code snippet to look up the customer's email.

### Authenticate profile with one-time password

If the user is identified with a Fastlane profile, they need to authenticate before Fastlane retrieves their saved payment and address information. The user is presented with a screen to authenticate themselves by entering a one-time password sent to their registered mobile number.

The `triggerAuthenticationFlow()` method returns an `AuthenticatedCustomerResult` object. Use the `authenticationState` property in the `AuthenticatedCustomerResult` object to check if the payer has authenticated.

On authentication:

- The Fastlane member's card details and default shipping address are returned with the `profileData` object contents.
- The `renderFastlaneMemberExperience` is set to `True`.

If a user fails or declines to authenticate, render the same experience as you would for a guest payer.

### Step 4: Render shipping address

This step is not required for:

- Fastlane members without a shipping address.
- Fastlane members with a shipping address in a region you don't support.
- Guest payers

Continue to render your own shipping address collection form and pass it into the server-side transaction request.

For Fastlane members with a shipping address, you’ll need to render:

- Shipping address returned from profile data on successful authentication.
- Fastlane watermark.
- Fastlane by PayPal logo.
- Change address button that invokes `showShippingAddressSelector()`.

This provides a payer with the option to change or add a new address.

**Note:**

- Fastlane is only available for US-based customers. However, PayPal doesn’t have restrictions on shipping addresses, so the merchant can decide who they want to ship to. This can be done using the `allowedShippingLocations` parameter in the SDK. The merchant can disallow either countries or regions, states, or provinces and PayPal will honor that in our shipping address component and forms.
- If the user adds a new address to Fastlane profile, send the new address in the Orders v2 server-side request.

### Step 5: Accept payments

Fastlane offers two different integration patterns to accept payments; quick start and flexible.

Quick StartFlexible

### Quick Start

The quick start payment integration loads a pre-built template form to collect payments, requiring less integration effort. The quick start integration is PCI DSS compliant, ensuring that customer payment information is handled securely.

The ready-made payment UI component will automatically render the following:

1. Selected card for the Fastlane member.
2. “Change card” link which allows payers to change the selection or add a new card.
3. Card fields for guest users or for Fastlane members that don’t have a card in their profile.
4. Billing address fields.

After you have received the `paymentTokenId` from the `paymentToken` object , it should be sent to your server to create a transaction with it.

Refer to the [Reference Types](https://developer.paypal.com/docs/checkout/fastlane/reference/#link-customize)
section for more information on what options can be passed to each of the functions shown in the code sample above.

### Render watermark

When displaying the card from payer’s Fastlane profile, you must inform them about it by displaying the Fastlane watermark below the card.

For a better payer experience of Fastlane, preload the watermark asset by adding the following code to the `<head>` section of the page.

<link rel="preload" href=" [https://www.paypalobjects.com/fastlane-v1/assets/fastlane-with-tooltip\_en\_sm\_light.0808.svg](https://www.paypalobjects.com/fastlane-v1/assets/fastlane-with-tooltip_en_sm_light.0808.svg)" as="image" type="image/avif" />

The mouse-over tooltip functionality will be added to the image when the Watermark component completes loading. After it loads, the information is displayed when the user hovers over the i icon.

When opting to integrate using the flexible pattern, [load card assets](https://developer.paypal.com/studio/checkout/fastlane/integrate) for the selected card so that the payer can see their card brand.

### Step 6: Configure the styling of the Fastlane component OPTIONAL

When styling the Fastlane components to match the look and feel of your checkout page, here are some guidelines to provide an accessible and transparent experience to your payer:

- Ensure that there is adequate contrast between the `backgroundColor` and `textColor` to ensure that all text, especially the legal text under the opt-in, is clear and legible. If the contrast ratio between the two is not 4.5:1 or greater, PayPal will automatically set the contrast to their default values.
- Ensure there is adequate contrast between the `borderColor`, which drives the consent toggle coloring, and the `backgroundColor`.

To override the default style settings for your page, use a `StyleOptions` object inside the `Fastlane` component. You can customize the styling with different colors and shapes.

To override the default style settings for your page, use a `StyleOptions` object inside the `Fastlane` component.

You can customize the styling with different colors and shapes.

Visit the Reference page for more details about additional [customization](https://developer.paypal.com/docs/checkout/fastlane/reference/#link-customize) and [style options](https://developer.paypal.com/docs/checkout/fastlane/reference/#link-style).

Enable

## 2\. Integrate back end SERVER

This section explains how to set up your back end to integrate standard checkout payments.

### Back-end process

Your app creates and confirms an order on the back end by calling to the [Create Orders V2 API endpoint.](https://developer.paypal.com/docs/api/orders/v2/#orders_create)

### Create order

On your server, you need to create an order by invoking the PPCP Orders API and passing the single use token, along with the item details and the shipping address.

Intent

IntentCAPTUREAUTHORIZECAPTUREIntent

Amount

Amount

**Note:** If the payer adds a new address, be sure to send that address in the server-side `orders API` request.

Providing detailed item descriptions and product images for each item creates a better user experience. It helps email communications and streamlines any potential dispute resolution.

### Special use-cases

**Store pick-up:** If the buyer is picking up item from a storefront, modify the shipping type parameter in the call and ensure the [shipping method](https://developer.paypal.com/docs/api/orders/v2/#orders_create!path=purchase_units/shipping&t=request) is set to `PICKUP_IN_STORE`. This ensures that buyer profiles aren’t created with the address of your store as their shipping address.

**Vaulting:** Make sure you have [configured](https://developer.paypal.com/studio/checkout/fastlane/getstarted#setup-dev-environment) your REST app to enable vault. You can vault a payment method with or without a transaction.

- **Vault with transaction:** If you want to save the `paymentToken` returned by the Fastlane SDK at the time of transaction, you can do so only when using the `store_in_vault`[attribute](https://developer.paypal.com/docs/api/orders/v2/#orders_create!path=payment_source/card/attributes/vault&t=request) in the request to `/v2/orders` on your server. This returns a vault ID, which can be saved and used for future captures. See the [Orders v2 documentation](https://developer.paypal.com/docs/api/orders/v2/#orders_create!path=payment_source/card/attributes/vault/store_in_vault&t=request) for more details.

- **Vault without transaction:** If you want to save the `paymentToken` returned by the Fastlane SDK without completing the transaction, then the payment token is generated but the Fastlane profile is not created for the customer. The Fastlane profile is created only for vaulting customers if they also complete a transaction during checkout.


## 3\. Test integration

You’ll need to test your integration for guest payers, Fastlane members, and PayPal members. If you’re using the flexible integration, make sure your address and payment form fields render as expected.

### Card numbers for testing

Use any of the following card numbers as test cards.

| Brand | Test Number |
| --- | --- |
| Visa | 4005 5192 0000 0004 |
| Visa | 4012 0000 3333 0026 |
| Visa | 4012 0000 7777 7777 |
| Mastercard | 5555 5555 5555 4444 |
| American Express | 3782 822463 10005 |

### Test guest payers

Before you test guest payers, make sure you:

- Create a new email address: Provide a new email address which is not associated with a sandbox Fastlane account.
- Ensure opt-in toggle is ON: Go through the checkout process using one of the card numbers available for testing. Be sure that the opt-in toggle is in the “on” state.
- Enter any valid phone number for sandbox: Make sure to pass a valid area code and prefix. A Fastlane profile is not created if you pass an invalid number such as `111-111-1111`. No SMS is sent in sandbox mode. Upon completing the transaction, a Fastlane profile is created. Use that profile to test subsequent transactions as a Fastlane member.

Test guest payer flows with the consent toggle both on and off. If the consent toggle is off, the payment completes successfully and no Fastlane profile is created.

**Test Fastlane members**

Before you test Fastlane payers, make sure you:

- Create a Fastlane Member profile: Go through the previous step and register a new Fastlane account. Be sure to remember the email address used when you created the account so that you can use it for additional testing.
- Use OTP for testing: When the authentication modal appears and you are prompted for a one-time password (OTP) use `111111` to trigger a successful authentication and any other 6-digit number to simulate a failed authentication.
- Test updating payment method and shipping addresses to existing Fastlane Profiles: Make sure that you test the payer’s ability to update shipping addresses and cards associated with their profile.

Test the Fastlane member scenario as the member toggles all the options such as adding or changing an address or card, or failing the OTP.

### Test PayPal members

PayPal members that choose not to save their profile will be treated as guest users.

PayPal members that choose to save their profile will be treated as returning Fastlane member for future transactions.

PayPal members do not require any additional handling within your integration because our client SDK handles this use case for you in the following ways:

- After performing the `lookupCustomerByEmail` method, we will return a `customerContextId` as if this were a Fastlane member.

- When you call the `triggerAuthenticationFlow` method, our SDK will display a call to action to the customer explaining that they can create a Fastlane profile populated with information from their PayPal account with one click.

- If the consumer clicks yes, we will return `profileData` exactly as we would for a Fastlane member.

- If the consumer closes the dialog, we will return an empty `profileData` object and you would handle this as you would any Fastlane guest member.


Visit the Reference page for more details about [troubleshooting](https://developer.paypal.com/docs/checkout/fastlane/reference/#link-troubleshooting), [best practices](https://developer.paypal.com/docs/checkout/fastlane/reference/#link-bestpractices), [customization](https://developer.paypal.com/docs/checkout/fastlane/reference/#link-customize) and [style options](https://developer.paypal.com/docs/checkout/fastlane/reference/#link-style).

## 4\. Go live

If you have fulfilled the requirements for accepting card payments via Fastlane for your [business account](https://www.paypal.com/signin?returnUri=https%3A%2F%2Fwww.paypal.com%2Fmyaccount%2Fbundle%2Fbusiness%2Fupgrade), review [Move your app to production](https://developer.paypal.com/api/rest/production/) to test and go live.

If this is your first time testing in a live environment, follow these steps:

1. Log into the [PayPal Developer Dashboard](https://developer.paypal.com/dashboard/) with your PayPal business account.
2. Complete [production onboarding](https://www.paypal.com/unifiedonboarding/entry?country.x=US&locale.x=en_US&products=EXPRESS_CHECKOUT) so you can process card payments with your live PayPal business account.
3. Request [Advanced Credit and Debit Card Payments](https://www.paypal.com/signin/client?flow=provisionUser&country.x=US&locale.x=en_US&_ga=1.95899167.248280996.1670866755) for your business account if you are not using cards currently with PayPal. Fastlane will be enabled along with the Advanced Credit and Debit Card payments processing.


scroll leftscroll right

Test Cards

American Express378282246310005

Visa4012000077777777

Mastercard5555555555554444

[View all test cards](https://developer.paypal.com/studio/checkout/fastlane/integrate#test-cards)

### Customer

Continue

* * *

### Shipping

* * *

### Payment

checkout.htmlinit-fastlane.jsserver.js

Copy

Download

```html
1<!DOCTYPE html>
2<html lang="en">
3    <title>{{title}}</title>
4
5    <head>
6        <link rel="stylesheet" href="{{stylesheetPath}}" />
7
8
9        <script
10            src="https://www.paypal.com/sdk/js?client-id=AYOeyCQvilLVKJGjslZfFSi_Nkl7A6OfXNarj5lS55iUcQXMhpp3AypVjAVkS_qvPcO5D415b9SnBFuN&components=buttons%2Cfastlane"
11            data-sdk-client-token="eyJraWQiOiJkMTA2ZTUwNjkzOWYxMWVlYjlkMTAyNDJhYzEyMDAwMiIsInR5cCI6IkpXVCIsImFsZyI6IkVTMjU2In0.eyJpc3MiOiJodHRwczovL2FwaS5zYW5kYm94LnBheXBhbC5jb20iLCJhdWQiOlsiaHR0cHM6Ly9hcGkuYnJhaW50cmVlZ2F0ZXdheS5jb20iLCJwYXlwYWwuY29tIl0sInN1YiI6IjJUSFY2R0VSVFZRRUUiLCJhY3IiOlsiY2xpZW50Il0sInNjb3BlIjpbIkJyYWludHJlZTpWYXVsdCJdLCJvcHRpb25zIjp7fSwiYXoiOiJjY2cxOC5zbGMiLCJleHRlcm5hbF9pZCI6WyJQYXlQYWw6MlRIVjZHRVJUVlFFRSIsIkJyYWludHJlZTozMms4amNqNnJ5MnF2YmZ0Il0sImV4cCI6MTc1MjY5MjEyNywiaWF0IjoxNzUyNjkxMjI3LCJqdGkiOiJVMkFBSUhQVnVHbmMwcVFfYTFxT3dydmw3d2pXdFNaUXhldWdyTXl3UTJhdnotVzJSOFQwLXhXaXhlM195UWZNYnBOQk1XMXdhaWFxeU83MS1VZU1xTFFiTmo3Z1JVdlRyT1FKTEI2a2lBR2dqcjR4M3RkY3RtajJYX3BudTBLdyIsImNsaWVudF9pZCI6IkFZT2V5Q1F2aWxMVktKR2pzbFpmRlNpX05rbDdBNk9mWE5hcmo1bFM1NWlVY1FYTWhwcDNBeXBWakFWa1NfcXZQY081RDQxNWI5U25CRnVOIn0.sctz_szLdFtBiuGTppyFlpu1hnxigGm2ZhDAIyrOeVpzNJIn8yBevSyPebXMIylrgFpqTFxxAxMAvkDDL5L77g"
12            data-sdk-integration-source="developer-studio"
13            defer
14        ></script>
15
16        <!-- Uncomment to inject from server side -->
17        <!-- {{&prerequisiteScripts}} -->
18        <script src="{{initScriptPath}}" defer></script>
19    </head>
20
21    <body>
22        <form>
23            <h1>{{title}}</h1>
24
25            <section id="customer" class="active visited">
26                <div class="header">
27                    <h2>Customer</h2>
28                    <button
29                        id="email-edit-button"
30                        type="button"
31                        class="edit-button"
32                    >
33                        Edit
34                    </button>
35                </div>
36                <div class="summary"></div>
37                <div class="email-container">
38                    <fieldset class="email-input-with-watermark">
39                        <input
40                            id="email-input"
41                            name="email"
42                            type="email"
43                            placeholder="Email"
44                            autocomplete="email"
45                        />
46                        <div id="watermark-container"></div>
47                    </fieldset>
48                    <button
49                        id="email-submit-button"
50                        type="button"
51                        class="submit-button"
52                        disabled
53                    >
54                        Continue
55                    </button>
56                </div>
57            </section>
58
59            <hr />
60
61
62            <section id="shipping">
63                <div class="header">
64                    <h2>Shipping</h2>
65                    <button
66                        id="shipping-edit-button"
67                        type="button"
68                        class="edit-button"
69                    >
70                        Edit
71                    </button>
72                </div>
73                <div class="summary"></div>
74                <fieldset>
75                    <span>
76                        <input
77                            id="shipping-required-checkbox"
78                            name="shipping-required"
79                            type="checkbox"
80                            checked
81                        />
82                        <label for="shipping-required-checkbox"
83                            >This purchase requires shipping</label
84                        >
85                    </span>
86                    <input
87                        name="given-name"
88                        placeholder="First name"
89                        autocomplete="given-name"
90                    />
91                    <input
92                        name="family-name"
93                        placeholder="Last name"
94                        autocomplete="family-name"
95                    />
96                    <input
97                        name="address-line1"
98                        placeholder="Street address"
99                        autocomplete="address-line1"
100                    />
101                    <input
102                        name="address-line2"
103                        placeholder="Apt., ste., bldg. (optional)"
104                        autocomplete="address-line2"
105                    />
106                    <input
107                        name="address-level2"
108                        placeholder="City"
109                        autocomplete="address-level2"
110                    />
111                    <input
112                        name="address-level1"
113                        placeholder="State"
114                        autocomplete="address-level1"
115                    />
116                    <input
117                        name="postal-code"
118                        placeholder="ZIP code"
119                        autocomplete="postal-code"
120                    />
121                    <input
122                        name="country"
123                        placeholder="Country"
124                        autocomplete="country"
125                    />
126                    <input
127                        name="tel-country-code"
128                        placeholder="Country calling code"
129                        autocomplete="tel-country-code"
130                    />
131                    <input
132                        name="tel-national"
133                        type="tel"
134                        placeholder="Phone number"
135                        autocomplete="tel-national"
136                    />
137                </fieldset>
138                <button
139                    id="shipping-submit-button"
140                    type="button"
141                    class="submit-button"
142                >
143                    Continue
144                </button>
145            </section>
146
147
148            <hr />
149
150            <section id="payment">
151                <div class="header">
152                    <h2>Payment</h2>
153                    <button
154                        id="payment-edit-button"
155                        type="button"
156                        class="edit-button"
157                    >
158                        Edit
159                    </button>
160                </div>
161                <fieldset>
162                    <div id="payment-component"></div>
163                </fieldset>
164            </section>
165
166            <button id="checkout-button" type="button" class="submit-button">
167                Checkout
168            </button>
169        </form>
170    </body>
171</html>
172
173
```

Test Panel

* * *

[Reference](https://developer.paypal.com/reference) [PayPal.com](https://www.paypal.com/) [Privacy](https://www.paypal.com/myaccount/privacy/privacyhub) [Cookies](https://www.paypal.com/myaccount/privacy/cookiePrefs) [Support](https://developer.paypal.com/support/) [Legal](https://www.paypal.com/us/webapps/mpp/ua/legalhub-full) [Contact](https://www.paypal.com/us/smarthelp/contact-us)

PayPal

PayPal